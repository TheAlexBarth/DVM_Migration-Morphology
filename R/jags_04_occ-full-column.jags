model {
  
  #likelihood functions
  
  for(i in 1:nSites) {
    
    # biological processes
    z[i] ~ dbern(psi[db[i]])
    
    # observational processes
    
    logit(p[i]) <- a0 + a_vs*vs[i] + a_d*d[i] + a_vs_d*vs[i]*d[i]
    
    #full observation model
    y[i] ~ dbern(p[i] * z[i])
    
  }
  
  
  #priors
  for(i in 1:nBins) {
    psi[i] ~ dbeta(1,1)
  }
  a_vs ~ dnorm(0,1/10^2)
  a_d ~ dnorm(0,1/10^2)
  a_vs_d ~ dnorm(0,1/10^2)
  
  p0 ~ dbeta(1,1)
  a0 <- logit(p0)
}